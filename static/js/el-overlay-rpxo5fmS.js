import{M as E,ao as m,as as f,d as C,f as M,h as T,e as b,I as A,i as p,j as c,W as N,z as L,aa as O,G as w,at as _}from"./index-ht37-DqN.js";import{t as k,h as y,b as R,g as Y,r as D}from"./use-form-common-props-CM7w3N3x.js";import{g as x}from"./el-popper-BAe0vuJh.js";var i=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(i||{});const a=e=>{const t=E(e)?e:[e],n=[];return t.forEach(o=>{var r;E(o)?n.push(...a(o)):m(o)&&((r=o.component)!=null&&r.subTree)?n.push(o,...a(o.component.subTree)):m(o)&&E(o.children)?n.push(...a(o.children)):m(o)&&o.shapeFlag===2?n.push(...a(o.type())):n.push(o)}),n},I=e=>{if(!e)return{onClick:f,onMousedown:f,onMouseup:f};let t=!1,n=!1;return{onClick:s=>{t&&n&&e(s),t=n=!1},onMousedown:s=>{t=s.target===s.currentTarget},onMouseup:s=>{n=s.target===s.currentTarget}}},H=M({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:c([String,Array,Object])},zIndex:{type:c([String,Number])}}),B={click:e=>e instanceof MouseEvent},G="overlay";var z=C({name:"ElOverlay",props:H,emits:B,setup(e,{slots:t,emit:n}){const o=T(G),r=l=>{n("click",l)},{onClick:u,onMousedown:s,onMouseup:d}=I(e.customMaskEvent?void 0:r);return()=>e.mask?b("div",{class:[o.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:u,onMousedown:s,onMouseup:d},[p(t,"default")],i.STYLE|i.CLASS|i.PROPS,["onClick","onMouseup","onMousedown"]):A("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[p(t,"default")])}});const W=z,j=(e,t={})=>{N(e)||k("[useLockscreen]","You need to pass a ref param to this function");const n=t.ns||T("popup"),o=L(()=>n.bm("parent","hidden"));if(!O||y(document.body,o.value))return;let r=0,u=!1,s="0";const d=()=>{setTimeout(()=>{typeof document>"u"||u&&document&&(document.body.style.width=s,D(document.body,o.value))},200)};w(e,l=>{if(!l){d();return}u=!y(document.body,o.value),u&&(s=document.body.style.width,R(document.body,o.value)),r=x(n.namespace.value);const S=document.documentElement.clientHeight<document.body.scrollHeight,v=Y(document.body,"overflowY");r>0&&(S||v==="scroll")&&u&&(document.body.style.width=`calc(100% - ${r}px)`)}),_(()=>d())};export{W as E,j as a,a as f,I as u};
